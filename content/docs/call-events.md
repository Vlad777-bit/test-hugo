---
title: "Inbound Call Events (URL, номер, SIP ID)"
weight: 3
description: "Inbound Call Events - параметры уведомлений на URL о входящих звонках."
---

Описание уведомлений, которые отправляются на установленный URL при входящих звонках, переадресованных на URL, номер телефона или SIP ID.

## Параметры уведомлений

### Originate

Инициация вызова на redirect_number (номер переадресации).

Параметр         | Тип              | Описание |
| ------------- |:------------------:| -----|
| service | string | сервис для отправки уведомления |
| date_time | string | дата события в формате [RFC-3339 / ISO-8601](https://datatracker.ietf.org/doc/html/rfc3339) |
| number_a | string | номер A-абонента (с которого поступил вызов) |
| redirect_number | string | номер, на который переадресовывается вызов |
| call_sid | string | уникальный идентификатор вызова |
| type | string | тип уведомления, значение - o |
| sip_id | string | номер Exolve, на который поступает вызов |
| reserve | boolean | признак переадресации на резервный номер. `True`, если вызов был отправлен на резервный номер. `False`, если вызов не отправлялся на резервный номер |
| redirect_type | enum | тип переадресации, значения: 1 - одиночная, 2 - последовательная, 3 - параллельная |
| record_call | boolean | признак записи разговора. `True`, если разговор записывается. `False`, если разговор не записывается |
| uid | uint64 | уникальный идентификатор вызова. Одинаковый во всех событиях и запросах в рамках одного вызова |
| application_uuid | string | уникальный идентификатор приложения, через которое проходит вызов |
| customer_id | uint64 | уникальный идентификатор пользователя |
| client_id | string | сквозной идентификатор от API клиента (необязательное поле, передается если значение было передано клиентом в запросе) |

#### Пример

```json
{
    "service": "ipcr",
    "date_time": "2023-11-30T08:35:34.644585Z",
    "number_a": "79991112233",
    "redirect_number": "79992223344",
    "call_sid": "call-test-12345",
    "client_id": "777",
    "type": "o",
    "sip_id": "74991112233",
    "reserve": false,
    "redirect_type": 1,
    "record_call": false,
    "uid": 12345678910,
    "application_uuid": "12345",
    "customer_id": 1111
}
```

### Start

Фактический ответ стороны B - стороны redirect_number (номер переадресации).

Параметр         | Тип              | Описание |
| ------------- |:------------------:| -----|
| service | string | сервис для отправки уведомления |
| date_time | string | дата события в формате [RFC-3339 / ISO-8601](https://datatracker.ietf.org/doc/html/rfc3339) |
| number_a | string | номер A-абонента (с которого поступил вызов) |
| redirect_number | string | номер, на который переадресовывается вызов |
| call_sid | string | уникальный идентификатор вызова |
| client_id | string | сквозной идентификатор от API клиента (необязательное поле, передается если значение было передано клиентом в запросе) |
| type | string | тип уведомления, значение - s |
| sip_id | string | номер Exolve, на который поступает вызов |
| reserve | boolean | признак переадресации на резервный номер. `True`, если вызов был отправлен на резервный номер. `False`, если вызов не отправлялся на резервный номер |
| redirect_type | enum | тип переадресации, значения: 1 - одиночная, 2 - последовательная, 3 - параллельная |
| record_call | boolean | признак записи разговора. `True`, если разговор записывается. `False`, если разговор не записывается |
| uid | uint64 | уникальный идентификатор вызова. Одинаковый во всех событиях и запросах в рамках одного вызова |
| application_uuid | string | уникальный идентификатор приложения, через которое проходит вызов |
| customer_id | uint64 | уникальный идентификатор пользователя |

#### Пример

```json
{
    "service": "ipcr",
    "date_time": "2023-11-30T08:35:34.644585Z",
    "number_a": "79991112233",
    "redirect_number": "79992223344",
    "call_sid": "call-test-12345",
    "client_id": "777",
    "type": "s",
    "sip_id": "74991112233",
    "reserve": false,
    "redirect_type": 1,
    "record_call": false,
    "uid": 12345678910,
    "application_uuid": "12345",
    "customer_id": 1111
}
```

### Hungup

Разъединение/окончание вызова.

Параметр         | Тип              | Описание |
| ------------- |:------------------:| -----|
| service | string | сервис для отправки уведомления |
| date_time | string | дата события в формате [RFC-3339 / ISO-8601](https://datatracker.ietf.org/doc/html/rfc3339) |
| number_a | string | номер A-абонента (с которого поступил вызов) |
| redirect_number | string | номер, на который переадресовывается вызов |
| call_sid | string | уникальный идентификатор вызова |
| client_id | string | сквозной идентификатор от API клиента (необязательное поле, передается если значение было передано клиентом в запросе) |
| type | string | тип уведомления, значение - h |
| sip_id | string | номер Exolve, на который поступает вызов |
| reserve | boolean | признак переадресации на резервный номер. `True`, если вызов был отправлен на резервный номер. `False`, если вызов не отправлялся на резервный номер |
| redirect_type | enum | тип переадресации, значения: 1 - одиночная, 2 - последовательная, 3 - параллельная |
| record_call | boolean | признак записи разговора. `True`, если разговор записывается. `False`, если разговор не записывается |
| uid | uint64 | уникальный идентификатор вызова. Одинаковый во всех событиях и запросах в рамках одного вызова |
| application_uuid | string | уникальный идентификатор приложения, через которое проходит вызов |
| customer_id | uint64 | уникальный идентификатор пользователя |

#### Пример

```json
{
    "service": "ipcr",
    "date_time": "2023-11-30T08:35:34.644585Z",
    "number_a": "79991112233",
    "redirect_number": "79992223344",
    "call_sid": "call-test-12345",
    "client_id": "777",
    "type": "h",
    "sip_id": "74991112233",
    "reserve": false,
    "redirect_type": 1,
    "record_call": false,
    "uid": 12345678910,
    "application_uuid": "12345",
    "customer_id": 1111
}
```

### Definition

Окончание вызова с причинами разъединения для каждого redirect_number (номер переадресации).

Параметр         | Тип              | Описание |
| ------------- |:------------------:| -----|
| service | string | сервис для отправки уведомления |
| date_time | string | дата события в формате [RFC-3339 / ISO-8601](https://datatracker.ietf.org/doc/html/rfc3339) |
| number_a | string | номер A-абонента (с которого поступил вызов) |
| redirect_number | string | номер, на который переадресовывается вызов |
| call_sid | string | уникальный идентификатор вызова |
| client_id | string | сквозной идентификатор от API клиента (необязательное поле, передается если значение было передано клиентом в запросе) |
| type | string | тип уведомления, значение - d |
| reserve | boolean | признак переадресации на резервный номер. `True`, если вызов был отправлен на резервный номер. `False`, если вызов не отправлялся на резервный номер |
| wait_time | uint32 | время ожидания A-абонента до фактического соединения с B-абонентом (ответ на звонок) в миллисекундах |
| duration | uint32 | время фактического разговора абонентов в миллисекундах |
| full_duration | uint32 | время разговора в миллисекундах c учетом проигрывания аудиосообщения абоненту B (принимает вызов) |
| redirect_type | enum | тип переадресации, значения: 1 - одиночная, 2 - последовательная, 3 - параллельная |
| record_call | boolean | признак записи разговора. `True`, если разговор записывается. `False`, если разговор не записывается |
| uid | uint64 | уникальный идентификатор вызова. Одинаковый во всех событиях и запросах в рамках одного вызова |
| cause | string | код причины разъединения звонка (Q.850) |
| application_uuid | string | уникальный идентификатор приложения, через которое проходит вызов |
| customer_id | uint64 | уникальный идентификатор пользователя |

#### Пример

```json
{
    "service": "ipcr",
    "date_time": "2023-11-30T08:35:52.406536Z",
    "number_a": "79991112233",
    "redirect_number": "79992223344",
    "call_sid": "call-test-12345",
    "client_id": "777",
    "type": "d",
    "reserve": false,
    "wait_time": 370,
    "duration": 18059,
    "full_duration": 18430,
    "redirect_type": 1,
    "record_call": false,
    "uid": 12345678910,
    "cause": "16",
    "application_uuid": "12345",
    "customer_id": 1111
}
```

### Call record ready

Параметр         | Тип              | Описание |
| ------------- |:------------------:| -----|
| uid | uint64 | уникальный идентификатор вызова. Одинаковый во всех событиях и запросах в рамках одного вызова |
| redirect_number | string | номер, на который переадресовывается вызов |
| client_id | string | сквозной идентификатор от API клиента (необязательное поле, передается если значение было передано клиентом в запросе) |
| number_a | string | номер A-абонента (с которого поступил вызов) |
| call_sid | string | уникальный идентификатор вызова |
| type | string | тип уведомления, значение - crr |
| application_uuid | string | уникальный идентификатор приложения, через которое проходит вызов |
| date_time | string | дата события в формате [RFC-3339 / ISO-8601](https://datatracker.ietf.org/doc/html/rfc3339) |
| recording_sid | string | уникальный идентификатор записи разговора |
| path | string | ссылка на скачивания файла с записью звонка |
| service | string | сервис для отправки уведомления |
| called_number | string | номер Exolve, на которой совершён вызов |
| calling_number | string | номер Exolve, с которого совершён вызов на номер переадресации |
| expires_at | string | дата, до которой будет храниться запись [RFC-3339 / ISO-8601](https://datatracker.ietf.org/doc/html/rfc3339) |
| customer_id | uint64 | уникальный идентификатор пользователя |
| size | uint64 | размер файла с записью (кб) |
| duration | uint64 | длительность записи в секундах |
| redirect_type | enum | тип переадресации, значения: 1 - одиночная, 2 - последовательная, 3 - параллельная |

#### Пример

```json
{
    "uid": 12345678910,
    "redirect_number": "79992223344",
    "client_id": "777",
    "number_a": "79991112233",
    "call_sid": "call-test-12345",
    "type": "crr",
    "application_uuid": "12345",
    "date_time": "2023-11-30T08:35:34.644585Z",
    "recording_sid": "rec12345",
    "path": "http://api.exolve.ru/statistics/download/12345678910",
    "service": "ipcr",
    "called_number": "74991112233",
    "calling_number": "74991112233",
    "expires_at": "2023-12-30T00:00:00Z",
    "customer_id": 1111,
    "size": 695084,
    "duration": 21,
    "redirect_type": 1,
}
```

### Call transcribation ready

Параметр         | Тип              | Описание |
| ------------- |:------------------:| -----|
| uid | uint64 | уникальный идентификатор вызова. Одинаковый во всех событиях и запросах в рамках одного вызова |
| transcribation | string | признак готовности текстовой расшифровки звонка |
| type | string | тип уведомления, значение - trc |

#### Пример

```json
{
    "type": "trc",
    "uid": 7135909209505402880,
    "transcribation": "ready"
}
```

### End

Окончание вызова.

Параметр         | Тип              | Описание |
| ------------- |:------------------:| -----|
| service | string | сервис для отправки уведомления |
| date_time | string | дата события в формате [RFC-3339 / ISO-8601](https://datatracker.ietf.org/doc/html/rfc3339) |
| number_a | string | номер A-абонента (с которого поступил вызов) |
| redirect_number | string | номер, на который переадресовывается вызов |
| call_sid | string | уникальный идентификатор вызова |
| client_id | string | сквозной идентификатор от API клиента (необязательное поле, передается если значение было передано клиентом в запросе) |
| type | string | тип уведомления, значение - h |
| sip_id | string | номер Exolve, на который поступает вызов |
| reserve | boolean | признак переадресации на резервный номер. `True`, если вызов был отправлен на резервный номер. `False`, если вызов не отправлялся на резервный номер |
| redirect_type | enum | тип переадресации, значения: 1 - одиночная, 2 - последовательная, 3 - параллельная |
| record_call | boolean | признак записи разговора. `True`, если разговор записывается. `False`, если разговор не записывается |
| uid | uint64 | уникальный идентификатор вызова. Одинаковый во всех событиях и запросах в рамках одного вызова |
| application_uuid | string | уникальный идентификатор приложения, через которое проходит вызов |
| customer_id | uint64 | уникальный идентификатор пользователя |

#### Пример

```json
{
    "service": "ipcr",
    "date_time": "2023-11-30T08:35:34.644585Z",
    "number_a": "79991112233",
    "redirect_number": "79992223344",
    "call_sid": "call-test-12345",
    "client_id": "777",
    "type": "e",
    "sip_id": "74991112233",
    "reserve": false,
    "redirect_type": 1,
    "record_call": false,
    "uid": 12345678910,
    "application_uuid": "12345",
     "customer_id": 1111
}
```

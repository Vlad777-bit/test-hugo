<!DOCTYPE html>
<html lang="en-us">
    <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="generator" content="Hugo 0.123.7">

    

    

    
        
            <meta name="description" content="Метод MakeCallBack - примените этот метод для совершения обратного звонка. Для этого выполните POST запрос с входными параметрами к точке подключения, указанными ниже. Точка подключения: POST: https://api.exolve.ru/call/v1/MakeCallback" />
        

        
            <meta
                name="keywords"
                content="hugo,site,new" />
        

        
            <meta
                name="author"
                content="Jing Wang" />
        

    


    <title>
        
            MakeCallBack |
            My New Hugo Site
        
    </title>

    


    
    

    
    


    
    


    
    


    
    

    


    
    

    

    

        
        


        
        


        <link
            rel="stylesheet"
            href="/css/index_d751713.min.912d03bce61461ecbc3ca083479e1ed814bba94df76d0bdc6aa88fdca33621b9bb410dc2c81af31e8101fec62decfa5f6e48901ad673bc5056d2f1d1f2368a34.css"
            integrity="sha512-kS0DvOYUYey8PKCDR54e2BS7qU33bQvcaqiP3KM2Ibm7QQ3CyBrzHoEB/sYt7PpfbkiQGtZzvFBW0vHR8jaKNA==" />
    


    
    

    

    

    

    
</head>



    <body>
        <header class="header">
    <div class="header_left">
        
    </div>

    <div class="header_middle">
        
            MakeCallBack -
            My New Hugo Site
        
    </div>
</header>



        <main>
            <aside class="sidebar">
    



    
    

    
    


    <ul class="section-tree">
        
            
                <li
                    
                        class="dir opened-dir"
                    >
                    <span class="dir-text"> Docs </span>

                    



    
    

    
    


    <ul class="section-tree">
        
            
                <li class="file">
                    <a href="https://example.org/docs/call-events/" title="./docs/call-events/">
                        Inbound Call Events
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="https://example.org/docs/sip-events/" title="./docs/sip-events/">
                        Outbound Call Events (SIP ID)
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="https://example.org/docs/callback-events/" title="./docs/callback-events/">
                        Callback Call Events
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="https://example.org/docs/making-callback/" title="./docs/making-callback/">
                        MakeCallBack
                    </a>
                </li>
            
        
    </ul>


                </li>
            
        
    </ul>


</aside>
<aside class="exapandable"></aside>


            
    <article class="main">
        <button
    class="sidebar-toggle-btn"
    type="menu"
    aria-expanded="false"
    aria-haspopup="true">
    <i class="bi bi-list"></i>
</button>



        <div class="title">
            <h1 class="title-header">
                MakeCallBack
            </h1>

            <div class="author-date-readtime">
                

                    
                        <div class="author" title="Author">
                            <i class="bi bi-person"></i>
                            <a
                                href="/author/jing-wang/"
                                class="cat-btn">
                                Jing Wang
                            </a>
                        </div>
                    

                

                
                    <div class="date" title="Date">
                        <i class="bi bi-calendar3"></i>
                        <time
                            datetime="0001.01.01"
                            >0001.01.01
                        </time>
                    </div>
                

                
                    <div
                        class="readtime"
                        title="Time to Read">
                        <i class="bi bi-clock"></i>
                        3 mins to read
                    </div>
                
            </div>
        </div>

        <div class="article-meta">
            

            

            
                <div class="breadcumb">
                    <i class="bi bi-folder"></i>
                    
    
    




<a href="https://example.org/" class="bread-btn">
    
        <i class="bi bi-house-fill"></i>
    

    
        Home
    
</a>




    /



<a href="https://example.org/docs/" class="bread-btn">
    

    
        Docs
    
</a>




    /



<a href="https://example.org/docs/making-callback/" class="bread-btn">
    

    
        MakeCallBack
    
</a>

                </div>
            

            
        </div>

        
            <nav id="TableOfContents">
  <ul>
    <li><a href="#метод-makecallback">Метод MakeCallBack</a>
      <ul>
        <li><a href="#авторизация">Авторизация</a></li>
        <li><a href="#входные-параметры">Входные параметры</a></li>
        <li><a href="#выходные-параметры">Выходные параметры</a></li>
        <li><a href="#возможные-ошибки">Возможные ошибки</a></li>
        <li><a href="#примеры">Примеры</a></li>
      </ul>
    </li>
  </ul>
</nav>
        


        <div class="content">
            
                <h2 id="метод-makecallback">Метод MakeCallBack</h2>
<p>Примените этот метод для совершения обратного звонка. Для этого выполните POST запрос с входными параметрами к точке подключения, указанными ниже.</p>
<p><strong>Точка подключения</strong>:</p>







<div class="codeblock">
    
        <div class="copy-button-box">
            <button class="copy-button" state="copy" data="#ZgotmplZ">
                <i class="bi bi-copy"></i>
            </button>
        </div>
    

    
        <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>POST: https://api.exolve.ru/call/v1/MakeCallback</span></span></code></pre></div>
    
</div>
<h3 id="авторизация">Авторизация</h3>
<p>Передайте следующие Заголовки HTTP для успешной авторизации.</p>
<table>
<thead>
<tr>
<th>Имя</th>
<th style="text-align:center">Тип</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Authorization</strong></td>
<td style="text-align:center">string</td>
<td><a href="/docs/ru/instructions/getting-api-key">API-ключ приложения</a> с <code>Bearer</code> перед ним. Пример: <code>Bearer e***s0</code>, где <code>e***s0</code> замените на API-ключ вашего приложения</td>
</tr>
</tbody>
</table>
<h3 id="входные-параметры">Входные параметры</h3>
<p>Передайте следующие параметры в теле запроса в JSON формате. Параметры, отмеченные жирным шрифтом, являются обязательными.</p>
<table>
<thead>
<tr>
<th>Параметр</th>
<th style="text-align:center">Тип</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>request_description</td>
<td style="text-align:center">string</td>
<td>идентификатор запроса со стороны клиента</td>
</tr>
<tr>
<td><strong>number_code</strong></td>
<td style="text-align:center">uint64</td>
<td>номер для использования услуги обратного звонка</td>
</tr>
<tr>
<td><strong>callback_resource_id</strong></td>
<td style="text-align:center">uint64</td>
<td>уникальный идентификатор ресурса обратного звонка. Чтобы получить идентификатор, <a href="/docs/ru/api-reference/callback-api/creating-callback">создайте ресурс обратного звонка</a> в приложении</td>
</tr>
<tr>
<td>duration</td>
<td style="text-align:center">uint32</td>
<td>максимальная длительность соединенного вызова двух абонентов в секундах: от 300 до 3600 (по умолчанию: 1800)</td>
</tr>
<tr>
<td><strong>line_1</strong></td>
<td style="text-align:center"><a href="#line_x">Line_x</a></td>
<td>настройки первого плеча</td>
</tr>
<tr>
<td><strong>line_2</strong></td>
<td style="text-align:center"><a href="#line_x">Line_x</a></td>
<td>настройки второго плеча</td>
</tr>
</tbody>
</table>
<h4 id="line_x">Line_x</h4>
<table>
<thead>
<tr>
<th>Параметр</th>
<th style="text-align:center">Тип</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>destinations</strong></td>
<td style="text-align:center"><a href="#destination">Destination</a></td>
<td>Список абонентов плеча Х (до 10 на каждом)</td>
</tr>
<tr>
<td>ring_logic</td>
<td style="text-align:center">enum</td>
<td>Принцип обзвона. Значение <code>1</code> для последовательного обзвона, значение <code>2</code> для параллельного. Значение <code>1</code> по умолчанию</td>
</tr>
<tr>
<td>display_number</td>
<td style="text-align:center">string</td>
<td>отображаемый номер первого плеча</td>
</tr>
<tr>
<td>audio</td>
<td style="text-align:center">oneof <a href="#audio">Audio</a></td>
<td>аудиосообщение для абонента плеча Х</td>
</tr>
</tbody>
</table>
<h4 id="destination">Destination</h4>
<table>
<thead>
<tr>
<th>Параметр</th>
<th style="text-align:center">Тип</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>number</strong></td>
<td style="text-align:center">string</td>
<td>номер или SIP-URI абонента</td>
</tr>
<tr>
<td>timeout</td>
<td style="text-align:center">uint32</td>
<td>максимальное время дозвона до абонента от инициации вызова в секундах: от 10 до 600 (по умолчанию: 30)</td>
</tr>
</tbody>
</table>
<h4 id="audio">Audio</h4>
<table>
<thead>
<tr>
<th>Параметр</th>
<th style="text-align:center">Тип</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>media_resource_id</td>
<td style="text-align:center">uint64</td>
<td>уникальный идентификатор медиаресурса для аудиосообщения абоненту плеча Х</td>
</tr>
<tr>
<td>tts</td>
<td style="text-align:center"><a href="#tts">Tts</a></td>
<td>параметры синтеза речи для аудиосообщения абоненту плеча Х</td>
</tr>
</tbody>
</table>
<h4 id="tts">Tts</h4>
<table>
<thead>
<tr>
<th>Параметр</th>
<th style="text-align:center">Тип</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>text</strong></td>
<td style="text-align:center">string</td>
<td>текст для синтеза речи (максимальная длительность 24 секунды)</td>
</tr>
<tr>
<td>voice</td>
<td style="text-align:center">enum <a href="#voice">Voice</a></td>
<td>голос для синтеза</td>
</tr>
<tr>
<td>lang</td>
<td style="text-align:center">enum <a href="#lang">Lang</a></td>
<td>язык синтеза речи (русский по умолчанию)</td>
</tr>
<tr>
<td>volume</td>
<td style="text-align:center">int32</td>
<td>нормализация громкости ( от -149 до 0, по умолчанию: -19 )</td>
</tr>
<tr>
<td>speed</td>
<td style="text-align:center">double</td>
<td>темп речи от 0.1 до 3.0 (по умолчанию: 1.0)</td>
</tr>
<tr>
<td>emotion</td>
<td style="text-align:center">enum <a href="#emotion">Emotion</a></td>
<td>амплуа, в зависимости от выбранного голоса (по умолчанию: 1)</td>
</tr>
<tr>
<td>provider</td>
<td style="text-align:center">string</td>
<td>поставщик TTS (1 - yandex)</td>
</tr>
</tbody>
</table>
<h4 id="voice">Voice</h4>
<table>
<thead>
<tr>
<th>Параметр</th>
<th style="text-align:center">Тип</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td style="text-align:center">enum</td>
<td>Алёна</td>
</tr>
<tr>
<td>2</td>
<td style="text-align:center">enum</td>
<td>Ермиль</td>
</tr>
<tr>
<td>3</td>
<td style="text-align:center">enum</td>
<td>Джейн</td>
</tr>
<tr>
<td>4</td>
<td style="text-align:center">enum</td>
<td>Омаж</td>
</tr>
<tr>
<td>5</td>
<td style="text-align:center">enum</td>
<td>Захар</td>
</tr>
</tbody>
</table>
<h4 id="lang">Lang</h4>
<table>
<thead>
<tr>
<th>Параметр</th>
<th style="text-align:center">Тип</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td style="text-align:center">enum</td>
<td>русский</td>
</tr>
<tr>
<td>2</td>
<td style="text-align:center">enum</td>
<td>английский</td>
</tr>
</tbody>
</table>
<h4 id="emotion">Emotion</h4>
<table>
<thead>
<tr>
<th>Параметр</th>
<th style="text-align:center">Тип</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td style="text-align:center">enum</td>
<td>нейтральная</td>
</tr>
<tr>
<td>2</td>
<td style="text-align:center">enum</td>
<td>доброжелательная</td>
</tr>
<tr>
<td>3</td>
<td style="text-align:center">enum</td>
<td>озлобленная</td>
</tr>
</tbody>
</table>
<h3 id="выходные-параметры">Выходные параметры</h3>
<table>
<thead>
<tr>
<th>Параметр</th>
<th style="text-align:center">Тип</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>call_id</td>
<td style="text-align:center">string</td>
<td>уникальный идентификатор совершенного обратного звонка</td>
</tr>
</tbody>
</table>
<h3 id="возможные-ошибки">Возможные ошибки</h3>
<table>
<thead>
<tr>
<th>Код</th>
<th style="text-align:center">Статус</th>
<th>Пример сообщения</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>401</td>
<td style="text-align:center">Unauthorized</td>
<td>malformed token</td>
<td>не указан / не правильно указан API-ключ приложения</td>
</tr>
<tr>
<td>404</td>
<td style="text-align:center">Not Found</td>
<td></td>
<td>не валидный URL запроса</td>
</tr>
<tr>
<td>403</td>
<td style="text-align:center">Forbidden</td>
<td>customer not active</td>
<td>нет доступа к услуге обратного звонка из-за статуса аккаунта пользователя (не активирован/заблокирован)</td>
</tr>
<tr>
<td>400</td>
<td style="text-align:center">Bad Request</td>
<td>invalid MakeCallbackRequest.Line_1: embedded message failed validation</td>
<td>невалидный запрос</td>
</tr>
<tr>
<td>400</td>
<td style="text-align:center">Bad Request</td>
<td>Application [app_id] does not own resource [number/callback_resource_id]</td>
<td>номер/ресурс обратного звонка не принадлежит приложению</td>
</tr>
</tbody>
</table>
<h3 id="примеры">Примеры</h3>
<p>Входные параметры:</p>







<div class="codeblock">
    
        <div class="copy-button-box">
            <button class="copy-button" state="copy" data="#ZgotmplZ">
                <i class="bi bi-copy"></i>
            </button>
        </div>
    

    
        <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&#34;request_description&#34;</span>: <span style="color:#e6db74">&#34;test&#34;</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&#34;callback_resource_id&#34;</span>: <span style="color:#ae81ff">1221</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&#34;number_code&#34;</span>: <span style="color:#ae81ff">74999999999</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&#34;line_1&#34;</span>: {
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;destinations&#34;</span>: [
</span></span><span style="display:flex;"><span>			{
</span></span><span style="display:flex;"><span>				<span style="color:#f92672">&#34;number&#34;</span>: <span style="color:#e6db74">&#34;78129999999&#34;</span>
</span></span><span style="display:flex;"><span>			},
</span></span><span style="display:flex;"><span>			{
</span></span><span style="display:flex;"><span>				<span style="color:#f92672">&#34;number&#34;</span>: <span style="color:#e6db74">&#34;74959999999&#34;</span>
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		],
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;ring_logic&#34;</span>: <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;audio&#34;</span>: {
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&#34;media_resource_id&#34;</span>: <span style="color:#ae81ff">685</span>
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&#34;line_2&#34;</span>: {
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;destinations&#34;</span>: [
</span></span><span style="display:flex;"><span>			{
</span></span><span style="display:flex;"><span>				<span style="color:#f92672">&#34;number&#34;</span>: <span style="color:#e6db74">&#34;79599999999&#34;</span>
</span></span><span style="display:flex;"><span>			},
</span></span><span style="display:flex;"><span>			{
</span></span><span style="display:flex;"><span>				<span style="color:#f92672">&#34;number&#34;</span>: <span style="color:#e6db74">&#34;79999999999&#34;</span>
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		],
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;ring_logic&#34;</span>: <span style="color:#ae81ff">2</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;audio&#34;</span>: {
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&#34;tts&#34;</span>: {
</span></span><span style="display:flex;"><span>				<span style="color:#f92672">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Обратный звонок с сайта&#34;</span>,
</span></span><span style="display:flex;"><span>				<span style="color:#f92672">&#34;voice&#34;</span>: <span style="color:#ae81ff">3</span>,
</span></span><span style="display:flex;"><span>				<span style="color:#f92672">&#34;lang&#34;</span>: <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>				<span style="color:#f92672">&#34;speed&#34;</span>: <span style="color:#ae81ff">1.5</span>,
</span></span><span style="display:flex;"><span>				<span style="color:#f92672">&#34;emotion&#34;</span>: <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>				<span style="color:#f92672">&#34;provider&#34;</span>: <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
    
</div>
<p>Выходные параметры:</p>







<div class="codeblock">
    
        <div class="copy-button-box">
            <button class="copy-button" state="copy" data="#ZgotmplZ">
                <i class="bi bi-copy"></i>
            </button>
        </div>
    

    
        <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&#34;call_id&#34;</span>: <span style="color:#e6db74">&#34;cal71bd36ce-2f5c-4d25-8319-406214596b72&#34;</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
    
</div>

            
        </div>
    </article>

        </main>

        <footer class="footer">
    <div class="footer-left">
        <ul class="social">
            
                <li>All Rights Reserved ®.</li>
            

            
                <li>Jing Wang</li>
            

            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
        </ul>
    </div>

    <div class="footer-right">
        <ul class="control status clearfix">
            
                <li>
                    
                        Word Count:
                        502
                    
                </li>
            

            
            

            
                <li>en</li>
            

            
                <li>
                    <a href="https://gohugo.io" class="btn" target="_blank"
                        >Hugo: 0.123.7</a
                    >
                </li>
            

            
                <li>
                    <a
                        href="https://github.com/JingWangTW/dark-theme-editor"
                        class="btn"
                        target="_blank"
                        >Theme: dark-theme-editor</a
                    >
                </li>
            

            
                <li>
                    
                        Last modified: &nbsp;
                        <time>
                            Jan 01 0001 00:00:00
                        </time>
                    
                </li>
            

            
                <li title="">
                    
                </li>
            
        </ul>
    </div>
</footer>

    </body>

    























    
    


    
    


    <script
        type="text/javascript"
        src="/js/index_d751713.min.5eeb120f16ea146352725c420364f87befead45f678142b8f0ffbef024646931fbc06bff07a7bd6cb57fa2f8cd8a21ba6a4ee5a278ec32303a378bc1cd17f246.js"
        integrity="sha512-XusSDxbqFGNSclxCA2T4e&#43;/q1F9ngUK48P&#43;&#43;8CRkaTH7wGv/B6e9bLV/ovjNiiG6ak7lonjsMjA6N4vBzRfyRg=="></script>














<link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" />




</html>
